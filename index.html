<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="FRMCHK is a web-based all-in-one tool to show game firmware. I compile as much data as I possibly can each week so that you can access everything in one place!">
<title>FRMCHK - GΔME FIRMWΔRE DΔTΔ</title>
<link rel="stylesheet" id="stylesheet" type="text/css" href="config/frmchk.css">
<link rel="shortcut icon" type="image/png" href="icons/favicon.png" />
<link rel="apple-touch-icon" href="icons/favicon.png" />
<script src="config/q.js"></script>
<script src="config/spark-md5.min.js"></script>
<script src="config/sha.js"></script>
</head>
<body onload="closeTimer();">
<input type="text" value="" id="myInput" style="opacity:0%;">
<div id="overlay"><div id="overlaytext" style="font-size: 22px"></div></div>
<h1 id="myT" onclick="location.reload()">PS4 GΔME FIRMWΔRE DΔTΔ</h1>
<div class="callout" id="callout">
  <div class="callout-header" id="titleshout">FRMCHK NEWS</div>
  <span class="closebtn" onclick="this.parentElement.style.display='none';">×</span>
  <div class="callout-container" id="shout"></div>
</div>
<div class="card" id="card" src="icons/generic.png" onmouseleave="this.style.display='none';">
  <div class="card-header" title="JSON info" id="cardtitle">GAME TITLE</div>
  <span class="closebtn" onclick="this.parentElement.style.display='none';">×</span>
  <div class="card-header2" id="gamecusa">GAME ID/NAME</div>
  <div id="gameinfo">
	<div class="card-container" id="infocontainer">
	<div id="parent">
	<img id="CUSART" onclick="snagImage();" src="icons/generic.png" onerror="this.src='icons/generic.png';" alt=" " style="width:200px" title="Click to view game art">
	<img id="ratingImage" src="icons/RATING.png" onerror="this.src='icons/RATING.png';" alt=" " style="width:50px">
	</div>
	<img id="additionalImage" src="icons/PAD.png" onerror="this.src='icons/PAD.png';" alt=" " style="width:50px">
	<div id="parent2">
	<div id="i0"><span id="gameDump"></span><span id="VRlabel"></span></div>
	<div id="i2"><span id="gameBackport"></span></div>
	<div id="i3"><button title="Search Metacritic" id="gameReview" class="interact">&#128269;&#xFE0E;<span style="font-size: 12px; font-family: verdana; font-weight: normal; color: #efefef;" id="r1"></span></button></div>
	<div id="i4"><button title="Search Serialstation" id="gamePKG" class="interact" onclick="">&#128269;&#xFE0E;<span style="font-size: 12px; font-family: verdana; font-weight: normal; color: #efefef;" id="p1"></span></button></div>
	<div id="i5"><button title="Search PSN Store" id="gamePSN" class="interact" onclick="">&#128269;&#xFE0E;<span style="font-size: 12px; font-family: verdana; font-weight: normal; color: #efefef;" id="p2"></span></button></div>
	<div id="i6"><button title="Search Orbispatches" id="gamePatch" class="interact" onclick="">&#128269;&#xFE0E;<span style="font-size: 12px; font-family: verdana; font-weight: normal; color: #efefef;" id="p3"></span></button></div>
	<div id="i7"><button title="Search Exophase" id="gameTrophy" class="interact" onclick="">&#x1F3C6;&#xFE0E;<span style="font-size: 12px; font-family: verdana; font-weight: normal; color: #efefef;" id="p4"></span></button></div><br>
	</div>
	</div>
  </div>  
</div>
<div class="card" id="fcard" onmouseleave="this.style.display='none';">
  <div class="card-header" onclick="window.open('https://darthsternie.net/ps4-firmwares/')" id="fcardtitle">FIRMWARE</div>
  <span class="closebtn" onclick="this.parentElement.style.display='none';">×</span>
  <center><div class="card-header2" id="fwversion">FW VERSION</div></center>
  <div class="card-container" id="finfocontainer">
	<div id="fparent">
		<img id="FCUSART" src="icons/FIRM.png" onerror="this.src='icons/generic.png';" alt=" " style="height:200px;width:200px">
	</div>
	<img id="additionalImage" src="icons/update.png" onerror="this.src='icons/PAD.png';" alt=" " style="width:50px">
	<div id="firminfo">
	<div id="f0"><span id="rDate"></span></div><br>
	<div id="f1"><span id="kString"></span></div>
	<div id="f2"><button title="D/L SYS PUP" id="fSYS" class="interact">&#10148;</button><span id="link1">SYSTEM</span></div>
	<div id="f3"><button title="D/L REC PUP" id="fREC" class="interact" onclick="">&#10148;</button><span id="link2">RECOVERY</span></div>
	<div id="f4"><button title="D/L PATCH PUP" id="fPAT" class="interact" onclick="">&#10148;</button><span id="link3">PATCH</span></div>
	</div><br>
  </div>
</div>
<div id="count"></div>
<div id="myProgress"><div id="myBar">0%</div></div><div id="smallinfo"><br><span id="sortstatus">SORT</span> / <span id="dlcstatus">DLC</span><br><span id="infoLength">INFO</span><br><br>QUICK ICONS:<br>&#9989;&#xFE0E;: 1.00-9.00 (Playable)<br>&#10060;&#xFE0E;: <span id="rangeMax"></span> (Unplayable)<br>&#x1F536;&#xFE0E;: 5.50-9.XX (Backports)</div><br>
<select id="FW" onchange="evalDelay();">
	<option value="" disabled selected>SELECT FIRMWARE:</option>
	<optgroup label="ALL IN DB:">
	<option value="1.00-9.99" onclick="showAll();">1.00 - 9.99</option>
	<optgroup label="EXACT:">
	<option value="OFW 1.00" >OFW 1.00</option>
	<option value="OFW 1.05" >OFW 1.05</option>
	<option value="OFW 1.50" >OFW 1.50</option>
	<option value="OFW 1.51" >OFW 1.51</option>
	<option value="OFW 1.52" >OFW 1.52</option>
	<option value="OFW 1.60" >OFW 1.60</option>
	<option value="OFW 1.61" >OFW 1.61</option>
	<option value="OFW 1.62" >OFW 1.62</option>
	<option value="OFW 1.70" >OFW 1.70</option>
	<option value="OFW 1.71" >OFW 1.71</option>
	<option value="OFW 1.72" >OFW 1.72</option>
	<option value="OFW 1.74" >OFW 1.74</option>
	<option value="OFW 1.75" >OFW 1.75</option>
	<option value="OFW 1.76" >OFW 1.76</option>
	<option value="OFW 2.00" >OFW 2.00</option>
	<option value="OFW 2.01" >OFW 2.01</option>
	<option value="OFW 2.02" >OFW 2.02</option>
	<option value="OFW 2.03" >OFW 2.03</option>
	<option value="OFW 2.04" >OFW 2.04</option>
	<option value="OFW 2.50" >OFW 2.50</option>
	<option value="OFW 2.51" >OFW 2.51</option>
	<option value="OFW 2.52" >OFW 2.52</option>
	<option value="OFW 2.55" >OFW 2.55</option>
	<option value="OFW 2.56" >OFW 2.56</option>
	<option value="OFW 3.00" >OFW 3.00</option>
	<option value="OFW 3.10" >OFW 3.10</option>
	<option value="OFW 3.11" >OFW 3.11</option>
	<option value="OFW 3.15" >OFW 3.15</option>
	<option value="OFW 3.50" >OFW 3.50</option>
	<option value="OFW 3.55" >OFW 3.55</option>
	<option value="OFW 4.00" >OFW 4.00</option>
	<option value="OFW 4.01" >OFW 4.01</option>
	<option value="OFW 4.05" >OFW 4.05</option>
	<option value="OFW 4.06" >OFW 4.06</option>
	<option value="OFW 4.07" >OFW 4.07</option>
	<option value="OFW 4.50" >OFW 4.50</option>
	<option value="OFW 4.55" >OFW 4.55</option>
	<option value="OFW 4.70" >OFW 4.70</option>
	<option value="OFW 4.71" >OFW 4.71</option>
	<option value="OFW 4.72" >OFW 4.72</option>
	<option value="OFW 4.73" >OFW 4.73</option>
	<option value="OFW 4.74" >OFW 4.74</option>
	<option value="OFW 5.00" >OFW 5.00</option>
	<option value="OFW 5.01" >OFW 5.01</option>
	<option value="OFW 5.02" >OFW 5.02</option>
	<option value="OFW 5.03" >OFW 5.03</option>
	<option value="OFW 5.05" >OFW 5.05</option>
	<option value="OFW 5.50" >OFW 5.50</option>
	<option value="OFW 5.53" >OFW 5.53</option>
	<option value="OFW 5.55" >OFW 5.55</option>
	<option value="OFW 5.56" >OFW 5.56</option>
	<option value="OFW 6.00" >OFW 6.00</option>
	<option value="OFW 6.02" >OFW 6.02</option>
	<option value="OFW 6.20" >OFW 6.20</option>
	<option value="OFW 6.50" >OFW 6.50</option>
	<option value="OFW 6.51" >OFW 6.51</option>
	<option value="OFW 6.70" >OFW 6.70</option>
	<option value="OFW 6.71" >OFW 6.71</option>
	<option value="OFW 6.72" >OFW 6.72</option>
	<option value="OFW 7.00" >OFW 7.00</option>
	<option value="OFW 7.02" >OFW 7.02</option>
	<option value="OFW 7.50" >OFW 7.50</option>
	<option value="OFW 7.51" >OFW 7.51</option>
	<option value="OFW 7.55" >OFW 7.55</option>
	<option value="OFW 8.00" >OFW 8.00</option>
	<option value="OFW 8.01" >OFW 8.01</option>
	<option value="OFW 8.03" >OFW 8.03</option>
	<option value="OFW 8.50" >OFW 8.50</option>
	<option value="OFW 8.52" >OFW 8.52</option>
	<option value="OFW 9.00" >OFW 9.00</option>
	<option value="OFW 9.03" >OFW 9.03</option>
	<option value="OFW 9.04" >OFW 9.04</option>
	<option value="OFW 9.50" >OFW 9.50</option>
	<option value="OFW 9.51" >OFW 9.51</option>
	<option value="OFW 9.60" >OFW 9.60</option>
	<optgroup label="RANGES:">
	<option value="1.00-5.05">1.00 - 5.05</option>
	<option value="1.00-6.72">1.00 - 6.72</option>
	<option value="1.00-7.02">1.00 - 7.02</option>
	<option value="1.00-7.55">1.00 - 7.55</option>
	<option value="1.00-9.00">1.00 - 9.00</option>
	<option value="5.50-6.72">5.50 - 6.72</option>
	<option value="5.50-7.02">5.50 - 7.02</option>
	<option value="5.50-7.55">5.50 - 7.55</option>
	<option value="5.50-9.00">5.50 - 9.00</option>
	<option value="7.00-7.02">7.00 - 7.02</option>
	<option value="7.00-7.55">7.00 - 7.55</option>
	<option value="7.00-9.00">7.00 - 9.00</option>
	<option value="7.50-7.55">7.50 - 7.55</option>
	<option value="7.50-9.00">7.50 - 9.00</option>
	<option value="8.00-8.52">8.00 - 8.52</option>
	<option value="9.00-LATEST"></option>
	<option value="1.00-LATEST"></option>
</select>
<select id="type" onchange="evalDelay()">
	<option value="" disabled selected>SELECT CATEGORY:</option>
	<optgroup label="QUICK DISPLAY">
	<option id="ALL" value="ALL" onclick="">ALL CATEGORIES</option>
	<option id="DLC" value="DLC">DLC ADD-ONS</option>
	<option id="F2P" value="F2P">F2P ONLINE</option>
	<option id="PSHITS" value="PSHITS">HITS COLLECTION</option>
	<option id="PROENHANCED" value="{PRO}">PRO ENHANCED</option>
	<option id="REMASTERED" value="REMASTERED">REMASTERED</option>
	<option id="PSC" value="PSCP">ALL PS CLASSICS</option>
	<option id="PS1" value="PSCPS1">PS1 CLASSICS</option>
	<option id="PS2" value="PSCPS2">PS2 CLASSICS</option>
	<option id="PSP" value="PSCPSP">PSP CLASSICS</option>
	<option id="PSXTOPS4" value="PSXTOPS4">PSXTOPS4</option>
	<option id="PS2TOPS4" value="PS2TOPS4">PS2TOPS4</option>
	<option id="PSPTOPS4" value="PSPTOPS4">PSPTOPS4</option>
	<option id="HOMEBREW" value="HOMEBREW">HOMEBREW</option>
	<option id="VR" value="VR">PSVR COMPAT</option>
	<option id="3DRUD" value="3DRUD">3DRUDDER COMPAT</option>
	<option id="DUMPED" value="DUMPED">DUMPED GAMES</option>
	<option id="UNDUMPED" value="UNDUMPED">UNDUMPED GAMES</option>
	<optgroup label="BACK PORTED TITLES">
	<option id="BACKPORT505" value="505BP">ALL BACK PORTS</option>
	<option id="BPISSUE" value="BP ISSUE">BACK PORT ISSUES</option>
	<optgroup label="GAME GENRES">	
	<option id="2D" value="2D">2D</option>
	<option id="ACTION" value="Action">ACTION</option>
	<option id="ADVENTURE" value="Adventure">ADVENTURE</option>
	<option id="ARCADE" value="Arcade">ARCADE</option>
	<option id="BEATEMUP" value="Beat 'em up">BEAT 'EM UP</option>
	<option id="ENTERTAINMENT" value="Entertainment">ENTERTAINMENT</option>
	<option id="FIGHTING" value="Fighting">FIGHTING</option>
	<option id="FPS" value="First-Person">FPS</option>
	<option id="HORROR" value="Horror">HORROR</option>
	<option id="METROIDVANIA" value="Metroidvania">METROIDVANIA</option>
	<option id="MUSIC" value="Music">MUSIC</option>
	<option id="PLATFORM" value="Platform">PLATFORM</option>
	<option id="POINT" value=" Point-and-Click">POINT & CLICK</option>
	<option id="PUZZLE" value="Puzzle">PUZZLE</option>
	<option id="RACING" value="Racing">RACING</option>
	<option id="RPG" value="Role-Playing">ROLE PLAYING</option>
	<option id="RHYTHM" value="Rhythm">RHYTHM</option>
	<option id="ROGUE" value="Roguelike">ROGUELIKE</option>
	<option id="SIMULATION" value="Simulation">SIMULATION</option>
	<option id="SPORT" value="Sports">SPORT</option>
	<option id="STEALTH" value="Stealth">STEALTH</option>
	<option id="STRATEGY" value="Strategy">STRATEGY</option>
	<option id="SURVIVAL" value="Survival">SURVIVAL</option>
	<option id="TPS" value="Third-Person">THIRD PERSON</option>
	<option id="NOVEL" value="Novel">VISUAL NOVEL</option>
	<optgroup label="MISCELLANEOUS">
	<option id="AIM" value="VR AIM">AIM COMPATIBLE</option>
	<option id="GUN" value="PDP MARS">LIGHTCON COMPATIBLE</option>
	<option id="LTDRUN" value="LTDRUN">LIMITED RUN GAMES</option>
	<option id="PL" value="PLAYLINK">PLAY LINK</option>
	<option id="PSN" value="Requires PSN">PSN REQUIRED</option>
	<option id="TBC" value="UNRELEASED">UNRELEASED</option>
	<option id="DEMO" value="Demo/Trial">DEMO/TRIAL</option>
	<option id="KIOSK" value="KIOSK">IDU/OMSK DISC</option>
	<optgroup label="PLAYSTATION 5">
	<option id="BOOTPS5" value="BOOTPS5">ISSUES ON PS5</option>
	<option id="NOTPS5" value="NOTPS5">NOT COMPATIBLE</option>
	<optgroup label="★DEBUG">
	<option id="60FPS" value="MOD60FPS">60FPS MOD</option>
	<option id="CROSSPLAY" value="CROSSPLAY">CROSSPLAY</option>
	<option id="PSCOMP" value="PSCOMP">PS TOURNAMENTS</option>
	<option id="FIRMWARE" value="FIRMWARE">FIRMWARE</option>
	<option id="BETAOFW" value="BETAOFW">BETA OFW</option>
	<option id="DELISTED" value="DELISTED">DELISTED FROM PSN</option>
	<option id="XLINKKAI" value="XLINKKAI">XLINK KAI</option>
	<option id="UNPLAYABLE" value="UNPLAYABLE">UNPLAYABLE</option>
</select>
<select id="regionSelect" onchange="regionChange();" title="Select data location">
	<option value="" disabled selected>ZONE:</option>
	<option id="EU" value="EU">EU</option>
	<option id="US" value="US">US</option>
	<option id="JP" value="JP">JP</option>
</select>&nbsp
<label class="switch" title="" id="iLen"><input id="togLen" type="checkbox" checked onclick="infoType();"><span class="slider round"></span></label>&nbspInfo
<label class="switch" title="" id="dbSort"><input id="togSort" type="checkbox" checked onclick="alphaDate();"><span class="slider round"></span></label>&nbspSort
<label class="switch" title="" id="dlc"><input id="togDLC" type="checkbox" checked onclick="dlcHide();"><span class="slider round"></span></label>&nbspDLC
<button class="interact" title="Reset search" id="nuke" onclick="nukeEm();" style="font-size:16px">&nbsp Reset</button>
<br><br>
<div id="clickers"><button id="#">#</button>
<script>
document.getElementById("overlaytext").innerHTML = "Loading DB";
document.getElementById("overlay").style.display = "block";
document.getElementById("card").style.display = "none";
document.getElementById("fcard").style.display = "none";
var calculate = 100;
var myTimer;
var bclicked = "None";
var fclicked = "";
var cclicked = "";
var aWord = "";
for (j = 65; j <= 90; j++){
	AZ = document.createElement("BUTTON");
	AZ.id = String.fromCharCode(j);
	AZ.innerHTML = String.fromCharCode(j);
	AZ.onclick = function(){bclicked=this.id;azDelay();};
	document.getElementById("clickers").appendChild(AZ);
}
var qluid = "";
</script>
<abbr class="interact" title="Tip: Search for genres, title, or years"><input autocomplete="on" type="search" id="searchbox" value="" onclick="this.value = this.value;" placeholder="Enter Keywords" autofocus></input></abbr><button class="sbut" id="clearsearch" title="Clear keywords" onclick="clearSearch()"><span class="rotate">+</span></button><button class="sbut" id="addQS" title="Add quick tab" onclick="addQS()">+</button><button class="sbut" id="searchbutton" title="Search for keywords" onclick="lookupDelay()">SEARCH</button><abbr  id="credz" class="sbut2" onclick="showGreetz();" title="Credits">&#9400;&nbsp </abbr><abbr  id="base64" class="sbut2" onclick="base64();" title="Base64 Decryption">&#9873;</abbr><abbr class="sbut2" onclick="document.getElementById('file').click();" title="MD5 files">&#8917;</abbr><abbr id="Contact" class="sbut2" onclick="window.open('https://forms.gle/px1igSvefUchD6zq5');" title="Contact" style="display:none">&#9993;&#xFE0E;</abbr>
<abbr id="toggleLD" class="sbut2" onclick="lightDark()" title="Light/Dark Toggle">&#9680;</abbr><abbr id="Qtmdb" class="sbut2" onclick="tmdbcheck();" title="Check CUSA ID">&#10026;</abbr>
</div>
<div class="progress-container"><div class="progress-bar" id="scrollBar"></div></div>  
<div id="display"></div>
<div style="display:flex">
<button id="qlubutton" class="qlu" onclick="">QUICK LOOK:</button><div id="userbuttons" style="display:flex"></div>
<button class="add" id="addyourown" title="Add custom tab" onmousedown="fillout();"><span class="rotate">&#9587;</span></button><button class="add" title="Remove all tabs" onmousedown="removeAll();">&#9587;</button><button class="add" title="Reset tabs" onmousedown="clearStorage();"><span class="redtext">&#9587;</span></button></div>
<script>
if (localStorage.theme==null){localStorage.theme='light';}
if (localStorage.theme=='light'){
document.getElementById('stylesheet').href='config/frmchk.css';
}
if (localStorage.theme=='dark'){
document.getElementById('stylesheet').href='config/frmchkd.css';
}
if (localStorage.userButtons==null){
var userButtons = new Array("Assassins", "Battlefield", "Call of Duty", "FIFA", "Hitman", "Resident Evil", "Tomb Raider");
localStorage.setItem("userButtons", JSON.stringify(userButtons));
userButtons2 = JSON.parse(localStorage.getItem("userButtons"));
} else {
userButtons2 = JSON.parse(localStorage.getItem("userButtons"));
}
makeButtons();
function makeButtons(){
userButtons2.sort();
for (k = 0; k <= userButtons2.length-1; k++){
	UG = document.createElement("BUTTON");
	UG.innerHTML = userButtons2[k][0].toUpperCase() + userButtons2[k].substring(1).toLowerCase();
	UG.id = userButtons2[k][0].toUpperCase() + userButtons2[k].substring(1).toLowerCase();
	UG.title = "Check DB for: "+UG.innerHTML;
	UG.className = "qButtons";
	UG.onclick = function(){qluid = this.id; series();};
	UG.oncontextmenu = function(){qluid = this.id; remove(); return false;};
	document.getElementById("userbuttons").appendChild(UG);
}};
if (localStorage.region==null){
localStorage.setItem("region","EU")
document.getElementById("regionSelect").value = "EU";
} else if (localStorage.region=="EU"){
document.getElementById("regionSelect").value = "EU";
} else if (localStorage.region=="US"){
document.getElementById("regionSelect").value = "US";
} else if (localStorage.region=="JP"){
document.getElementById("regionSelect").value = "JP";
}
if (localStorage.infoLen==null){localStorage.infoLen='short';}
if (localStorage.infoLen=='short'){ 
document.getElementById("infoLength").innerHTML = "INFO: NAME/GENRE ONLY";
document.getElementById("iLen").setAttribute('title', 'Show more info?');
document.getElementById("togLen").checked = false;
}
if (localStorage.infoLen=='long'){
document.getElementById("infoLength").innerHTML = "INFO: ALL INFORMATION";
document.getElementById("iLen").setAttribute('title', 'Show less info?');
document.getElementById("togLen").checked = true;
}
if (localStorage.DBtype==null){localStorage.DBtype='ps4alpha.db';}
if (localStorage.DBtype=='ps4alpha.db'){ 
document.getElementById("sortstatus").innerHTML = "SORT: A-Z";
document.getElementById("dbSort").setAttribute('title', 'Sort by Date?');
document.getElementById("togSort").checked = false;
}
if (localStorage.DBtype=='ps4date.db'){
document.getElementById("sortstatus").innerHTML = "SORT: DATE";
document.getElementById("dbSort").setAttribute('title', 'Sort by A-Z?');
document.getElementById("togSort").checked = true;
}
let fileName = localStorage.DBtype;
if (localStorage.DLC==null){localStorage.DLC='true';}
if (localStorage.DLC=='true'){ 
document.getElementById("dlcstatus").innerHTML = "DLC: SHOWN";
document.getElementById("dlc").setAttribute('title', 'Hide DLC items?');
document.getElementById("togDLC").checked = true;
}
if (localStorage.DLC=='false') {
document.getElementById("dlcstatus").innerHTML = "DLC: HIDDEN";
document.getElementById("dlc").setAttribute('title', 'Show DLC items?');
document.getElementById("togDLC").checked = false;
}
var xmlFile = new XMLHttpRequest;
xmlFile.open('get', fileName, false);
xmlFile.send();
var xmlDoc = xmlFile.responseText;
var lines = xmlDoc.split("\r\n");
document.getElementById("display").innerHTML = "<br>";
document.getElementById("count").innerHTML = "Database entries: <span id='linelength'>" + lines.length + "</span>";
cnt = firmcnt = 0;
optCount = document.getElementById("FW").options.length -1;
document.getElementById("myT").style.cursor = "pointer";
//--------- Firmware 1.00-Latest --------\\
var firmz = 0;for (i = 0; i < lines.length; i++){if (lines[i].match("(Firmware)")){firmz++;}};
var latestOFW = lines[firmz-1].slice(0, lines[firmz-1].indexOf("(")-1);
for (i = 0; i < firmz-1; i++){if (lines[i].match("HEN")){var kexFW = (lines[i].slice(0,4));}};
document.getElementById("FW").options[optCount].innerHTML = "1.00 - "+latestOFW;
document.getElementById("FW").options[optCount].value = "1.00-"+latestOFW;
document.getElementById("FW").options[optCount-1].innerHTML = "9.00 - "+latestOFW;
document.getElementById("FW").options[optCount-1].value = "9.00-"+latestOFW;
if (lines[i].match(latestOFW)){var lastFW = Date.parse(lines[i].slice(lines[i].indexOf("[")+1,lines[i].indexOf("]")));};
var todayFW = Date.parse(new Date());
var Difference_In_Time = todayFW - lastFW;
var Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);
document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'>Latest Firmware: <span style='color:silver'>"+latestOFW+"</span><br><span style='color:dimgrey'>(Released: "+parseInt(Difference_In_Days)+" Days Ago)</span><br><br><span id='jellybrek' style='cursor:help' title='https://sleirsgoevy.github.io/900-host/'> Highest Jailbreak: <span style='color:gold'>"+kexFW+"</span></span><br>Recommended FW: <span style='color:limegreen'>5.05</span></span></center>";
document.getElementById("rangeMax").innerHTML = "9.03-"+latestOFW;
//------------- Card Buttons -------------\\
document.getElementById("gameReview").addEventListener("click", function(){
window.open("https://www.metacritic.com/search/game/"+document.getElementById("cardtitle").innerHTML+"/results?plats[72496]=1&search_type=advanced");
});
document.getElementById("gamePKG").addEventListener("click", function(){
	if (cName.includes("CUSA")) {
	window.open('https://serialstation.com/titles/CUSA/'+cName.slice(4,cName.length));
	}else{
	window.open('https://serialstation.com/search/?search='+cName);
	}
});
document.getElementById("jellybrek").addEventListener("click", function(){window.open("https://sleirsgoevy.github.io/900-host/");});
document.getElementById("gamePSN").addEventListener("click", function(){window.open("https://duckduckgo.com/?q=!ducky+"+document.getElementById(cName).getAttribute("data")+"+store.playstation.com");});
document.getElementById("gamePatch").addEventListener("click", function(){if (cName.includes("CUSA")){window.open('https://orbispatches.com/'+cName);}else{window.open('https://orbispatches.com/');}}); 
document.getElementById("gameTrophy").addEventListener("click", function(){
var tName = document.getElementById("cardtitle").innerHTML.replace(/ /g,"+");
window.open("https://www.exophase.com/platform/psn/?q="+tName+"&sort=added&platforms=8");
});
//--------- A-Z button function ----------\\
function azDelay(){
document.getElementById("overlaytext").innerHTML = "Searching DB";
document.getElementById("overlay").style.display = "block";
sDelay = setInterval(function(){reply_click(bclicked);return false;}, 1)
};
function reply_click(bclicked) {
	clearInterval(sDelay);
	document.getElementById("searchbox").value = "";
	aWord = "None";
	cnt = firmcnt = 0;
	document.getElementById("display").innerHTML = "<br>";
	if (document.getElementById("FW").value == ""){
	document.getElementById("FW").value = "1.00-"+latestOFW;
	fclicked = "1.00-"+latestOFW;
	} else {
	fclicked = document.getElementById("FW").value;
	}
	if (document.getElementById("type").value == ""){
	document.getElementById("type").value = "ALL";
	cclicked = "ALL";
	} else {
	cclicked = document.getElementById("type").value;
	}
	if (fclicked.includes('-')) {
		rclicked = fclicked.replace(/[. ]/g, '').replace(/[- ]/g, '');
			for (i = firmz; i < lines.length; i++){
				for (f = rclicked.slice(0,2); f <= rclicked.slice(3,5); f++) {
					if (lines[i].match("EST"+f) || lines[i].match("OFW"+f)){
						if (document.getElementById("type").value != "ALL"){
							if (lines[i].charAt(0) == bclicked){
								if (lines[i].match(RegExp(cclicked, "gi"))){
									cnt++;
									colourise();
								} else {
								}
							}
						} else {
							if (lines[i].charAt(0) == bclicked){
							cnt++;
							colourise();
							}
						}	
					}
				}
			}
	} else {
	fclicked = fclicked.replace(/[. ]/g, '');
		for (i = firmz; i < lines.length; i++){
			if (document.getElementById("type").value == "ALL"){
				if (lines[i].charAt(0) == bclicked){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					}
				}
			} else if (lines[i].match(RegExp(cclicked, "gi"))){
				if (lines[i].charAt(0) == bclicked){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					}
				}
			}
		}
	}
	summary();
};
//---------- # button function -----------\\
document.getElementById("#").addEventListener("click", function(){bclicked = "#";numDelay();});
function numDelay(){
document.getElementById("overlaytext").innerHTML = "Searching DB";
document.getElementById("overlay").style.display = "block";
sDelay = setInterval(function(){numReply();return false;}, 1)
};
function numReply(){
	clearInterval(sDelay);
	aWord = "None";
	document.getElementById("searchbox").value = "";
	cnt = firmcnt = 0;
	document.getElementById("display").innerHTML = "<br>";
	if (document.getElementById("FW").value == ""){
	document.getElementById("FW").value = "1.00-"+latestOFW;
	fclicked = "1.00-"+latestOFW;
	} else {
	fclicked = document.getElementById("FW").value;
	}
	if (document.getElementById("type").value == ""){
	document.getElementById("type").value = "ALL";
	cclicked = "ALL";
	} else {
	cclicked = document.getElementById("type").value;
	}
	if (fclicked.includes('-')) {
		rclicked = fclicked.replace(/[. ]/g, '').replace(/[- ]/g, '');
			for (i = firmz; i < lines.length; i++){	
				for (f = rclicked.slice(0,2); f <= rclicked.slice(3,5); f++){
					if (lines[i].match("EST"+f) || lines[i].match("OFW"+f)){
						if (document.getElementById("type").value != "ALL"){
							if (lines[i].charAt(0).match(/^[.#0-9'/]+$/)){
								if (lines[i].match(RegExp(cclicked, "gi"))){
									cnt++;
									colourise();
								}
							}
						} else {
							if (lines[i].charAt(0).match(/^[.#0-9'/]+$/)){
							cnt++;
							colourise();
							}
						}
					}
				}
			}
	} else {
	fclicked = fclicked.replace(/[. ]/g, '');
		for (i = firmz; i < lines.length; i++){
			if (document.getElementById("type").value == "ALL"){
				if (lines[i].charAt(0).match(/^[.#0-9'/]+$/)){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					}
				}
			} else if (lines[i].match(RegExp(cclicked, "gi"))){
				if (lines[i].charAt(0).match(/^[.#0-9'/]+$/)){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					}
				}
			}
		}
	}
	summary();
};
//--------- FW DROPDOWN FUNCTIONS ---------\\
function evalDelay(){
document.getElementById("overlaytext").innerHTML = "Searching DB";
document.getElementById("overlay").style.display = "block";
sDelay = setInterval(function(){ evaluationTest();}, 5)
};
function evaluationTest(){
clearInterval(sDelay);
cnt = 0;
firmcnt = 0;
document.getElementById("display").innerHTML = "<br>";
	if (document.getElementById("FW").value == ""){
	document.getElementById("FW").value = "1.00-"+latestOFW;
	fclicked = "1.00-"+latestOFW;
	} else {
	fclicked = document.getElementById("FW").value;
	}
	if (document.getElementById("type").value == ""){
	document.getElementById("type").value = "ALL";
	cclicked = "ALL";
	} else {
	cclicked = document.getElementById("type").value;
	}
	if (bclicked != "None"){
		reply_click(bclicked);
		return;
		//}
    }	
    aWord = document.getElementById("searchbox").value;
    if (aWord != ""){
    lookupDelay();
    return;
    }
    else aWord = "None";
    //SPECIAL CASES
	if (cclicked == "FIRMWARE"){
		for (i = 0; i < firmz; i++){
			if (lines[i].match("Firmware")){
			cnt++;
			colourise();
			}
		}
	} else if (cclicked == "BETAOFW"){
		for (i = 0; i < firmz; i++){
			if (lines[i].match("BETAOFW")){
			cnt++;
			colourise();
			}
		}
	/*} else if (cclicked == "UNPLAYABLE"){
		for (i = firmz; i < lines.length; i++){
			for (f=903; f <=1000; f++){
				if (lines[i].match("EST"+f) || lines[i].match("OFW"+f)){
				cnt++;
				colourise();
				}
			}
		}*/
	} else if (cclicked == "UNPLAYABLE"){
		for (i = firmz; i < lines.length; i++){
		if (lines[i].match("505BP")){ //skip
		} else {
			for (f=903; f <=1000; f++){
				if (lines[i].match("EST"+f) || lines[i].match("OFW"+f)){
				cnt++;
				colourise();
				}
			}
		}
		}
	} else if (cclicked == "UNRELEASED"){
		for (i = firmz; i < lines.length; i++){
			if (lines[i].match("UNRELEASED")){
			cnt++;
			colourise();
			}
		}
	} else if (cclicked == "UNDUMPED"){
		for (i = firmz; i < lines.length; i++){
			if (lines[i].match("DUMPED")){
				} else {
				if (lines[i].match("UNRELEASED")){
					} else {
					cnt++;
					colourise();
				}
			}
		}
	}
	if (fclicked.includes('-')) {
		rclicked = fclicked.replace(/[. ]/g, '').replace(/[- ]/g, '');
			for (i = firmz; i < lines.length; i++){
				for (f = rclicked.slice(0,2); f <= rclicked.slice(3,5); f++){
					if (lines[i].match("EST"+f) || lines[i].match("OFW"+f)){
						if (document.getElementById("type").value != "ALL"){
							if (lines[i].match(RegExp(cclicked, "gi"))){
								cnt++;
								colourise();
								} else {
							}
						} else {
							cnt++;
							colourise();
						}
					}	
				}
			}
	} else {
	fclicked = fclicked.replace(/[. ]/g, '');
		for (i = firmz; i < lines.length; i++){
			if (document.getElementById("type").value == "ALL"){
				if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
				cnt++;
				colourise();
				}
			} else {
				if (lines[i].match(cclicked)){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					} else {
					}
				}
			}
		}
	}
	summary();
};
function lookupDelay(){
    bclicked = "None";
    document.getElementById("overlaytext").innerHTML = "Searching DB";
    document.getElementById("overlay").style.display = "block";
    sDelay = setInterval(function(){ lookup();}, 5)
};
function lookup(){
clearInterval(sDelay);
cnt = firmcnt = 0;
document.getElementById("display").innerHTML = "<br>";
	if (document.getElementById("FW").value == ""){
	document.getElementById("FW").value = "1.00-"+latestOFW;
	fclicked = "1.00-"+latestOFW;
	} else {
	fclicked = document.getElementById("FW").value;
	}
	if (document.getElementById("type").value == ""){
	document.getElementById("type").value = "ALL";
	cclicked = "ALL";
	} else {
	cclicked = document.getElementById("type").value;
	}
	if (bclicked == ""){
	bclicked = "None";
	}else{
	}
	aWord = document.getElementById("searchbox").value;
	if (aWord == ""){
	aWord = "None";
	}
	//Special cases:
	if (aWord == MD5result){
		for (i = 0; i < firmz; i++){
			if (lines[i].match(MD5result)){
			document.getElementById("titleshout").innerHTML = "ALERT:";
			document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span style='color:white'>MD5: </span><span class='textcolor'>"+MD5result+"<br><br><span style='color:white'>Confirmed as: </span>"+lines[i].slice(0,(lines[i].indexOf(" ")))+" "+lines[i].slice( (lines[i].indexOf(MD5result)-4) , (lines[i].indexOf(MD5result)-1) )+" Update PUP</span></span></center>";
			document.getElementById('callout').style.display='initial';
			}
		}
	}
	if (/^[:; <>{}]+$/.test(aWord)){
	aWord = "Disallowed";
	document.getElementById("titleshout").innerHTML = "ALERT:";
	document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span style='color:white'>Search <span class='textcolor'>CHAR</span><br>disallowed</span></span></center>";
	document.getElementById('callout').style.display='initial';
	closeTimer();
	} else {
	//FIRMWARE RANGE
	if (fclicked.includes('-')) {
		rclicked = fclicked.replace(/[. ]/g, '').replace(/[- ]/g, '');
			for (i = 0; i < lines.length; i++){
				for (f = rclicked.slice(0,2); f <= rclicked.slice(3,5); f++) { //fwMin to fwMax
					if (lines[i].match("EST"+f) || lines[i].match("OFW"+f)){
						if (document.getElementById("type").value != "ALL"){
							if (lines[i].match(RegExp(aWord, "gi"))){
								if (lines[i].match(RegExp(cclicked, "gi"))){
									cnt++;
									colourise();
								} else {
								}
							}
						} else {
							if (lines[i].match(RegExp(aWord, "gi"))){
							cnt++;
							colourise();
							}
						}
					}
				}
			}
	} else {
	//INDIVIDUAL FIRMWARE
	fclicked = fclicked.replace(/[. ]/g, '');
		for (i = 0; i < lines.length; i++){
			if (document.getElementById("type").value == "ALL"){
				if (lines[i].match(RegExp(aWord, "gi"))){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					}
				}
			} else if (lines[i].match(RegExp(cclicked, "gi"))){
				if (lines[i].match(RegExp(aWord, "gi"))){
					if (lines[i].match(fclicked.slice(3,6)+"BP") || lines[i].match(fclicked) ||  lines[i].match(fclicked.replace(/[O]/g,'E').replace(/[F]/g,'S').replace(/[W]/g,'T'))) {	
					cnt++;
					colourise();
					}
				}
			}
		}
	}
	}
	summary();
};
function series(){
	document.getElementById("overlaytext").innerHTML = "Searching DB";
	document.getElementById("overlay").style.display = "block";
	document.getElementById("FW").value = "1.00-"+latestOFW;
	document.getElementById("type").value = "ALL";
	cnt = firmcnt = 0;
	document.getElementById("searchbox").value = qluid;
	lookupDelay();
};
function regionChange(){
	/*if (localStorage.region==null){
	localStorage.setItem("region","EU")
	document.getElementById("regionSelect").value = "EU";
	} else */
	if (document.getElementById("regionSelect").value == "EU"){
	localStorage.setItem("region", "EU");
	document.getElementById("regionSelect").value = "EU";
	} else if (document.getElementById("regionSelect").value == "US"){
	localStorage.setItem("region", "US");
	document.getElementById("regionSelect").value = "US";
	} else if (document.getElementById("regionSelect").value == "JP"){
	localStorage.setItem("region", "JP");
	document.getElementById("regionSelect").value = "JP";
	}
};
function fillout(){
	var usergame = prompt("✏️ 𝗘𝗻𝘁𝗲𝗿 𝗴𝗮𝗺𝗲 𝗻𝗮𝗺𝗲:", "");
	if (usergame === "") {
	alert("⚠️ 𝗡𝗼𝘁𝗵𝗶𝗻𝗴 𝗲𝗻𝘁𝗲𝗿𝗲𝗱:\n\nNo tab was created.");
	} else if (usergame) {
	while (document.getElementById("userbuttons").firstChild) {
    document.getElementById("userbuttons").removeChild(document.getElementById("userbuttons").lastChild);
	}
	userButtons2.push(usergame[0].toUpperCase() + usergame.substring(1).toLowerCase());
	localStorage.setItem("userButtons", JSON.stringify(userButtons2));	
	makeButtons();
	} else {
	}
};
function remove(){
	var r = confirm("⚠️ 𝗥𝗲𝗺𝗼𝘃𝗲 𝘁𝗮𝗯:\n\n"+qluid+"?");
	if (r == true) {
	document.getElementById(qluid).remove();
	userButtons2.splice(userButtons2.indexOf(qluid), 1);
	localStorage.setItem("userButtons", JSON.stringify(userButtons2));
	}
};
function removeAll(){
	if (userButtons2.length !=1) {
	var nTab = " tabs will be deleted.";
	} else {
	var nTab = " tab will be deleted.";
	}
	var r = confirm("⚠️ 𝗥𝗲𝗺𝗼𝘃𝗲 𝗮𝗹𝗹 𝗾𝘂𝗶𝗰𝗸 𝘁𝗮𝗯𝘀?\n\n"+userButtons2.length+nTab);
	if (r == true) {
	document.getElementById("userbuttons").innerHTML = "";
	userButtons2.length = 0;
	localStorage.setItem("userButtons", JSON.stringify(userButtons2));
	}
};
function clearStorage() {
	var r = confirm("⚠️ 𝗧𝗵𝗶𝘀 𝘄𝗶𝗹𝗹 𝗿𝗲𝘀𝗲𝘁 𝗾𝘂𝗶𝗰𝗸 𝗹𝗼𝗼𝗸 𝘁𝗮𝗯𝘀 𝘁𝗼 𝗱𝗲𝗳𝗮𝘂𝗹𝘁.\n\nProceed?");
	if (r == true) {
	localStorage.removeItem("userButtons"); 
	location.reload();
	}
};
for (h = 0; h <= userButtons2.length; h++){
var node = document.getElementsByClassName("qButtons")[h];
var longpress = false;
var presstimer = null;
var longtarget = null;
var cancel = function(e) {
    if (presstimer !== null) {
        clearTimeout(presstimer);
        presstimer = null;
    }
    this.classList.remove("longpress");
};
var click = function(e) {
    if (presstimer !== null) {
        clearTimeout(presstimer);
        presstimer = null;
    }
    this.classList.remove("longpress");
    if (longpress) {
        return false;
    }
};
var start = function(e) {
	qluid = this.id;
    console.log(e);
    if (e.type === "click" && e.button !== 0) {
        return;
    }
    longpress = false;
    this.classList.add("longpress");
    if (presstimer === null) {
        presstimer = setTimeout(function() {
			remove();
            longpress = true;
        }, 800);
    }
    return false;
};
node.addEventListener("touchstart", start);
node.addEventListener("click", click);
node.addEventListener("mouseout", cancel);
node.addEventListener("touchend", cancel);
node.addEventListener("touchleave", cancel);
node.addEventListener("touchcancel", cancel);
}	
function colourise(){
	if (localStorage.infoLen=='short'){
		if (lines[i].match("Firmware")){
		dateInfo = lines[i].slice(lines[i],lines[i].lastIndexOf(")")+1);
		}else{
		dateInfo = lines[i].slice(lines[i],lines[i].lastIndexOf(")")+1) + " " + lines[i].slice(lines[i].lastIndexOf("&"),lines[i].length); //dont crop icon
		}
	} else if (localStorage.infoLen=='long') {
	dateInfo = lines[i];
	}
	if (lines[i].match("DLC")){
		if (localStorage.DLC=='true') {
		document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("blue").bold() + '</button>' + '<hr>');	
		genericAttribs();
		} else if (localStorage.DLC=='false'){
			cnt--;
		}
	} else if (lines[i].match("KIOSK")){
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("mediumvioletred").bold() + '</button>' + '<hr>');	
	genericAttribs();
	} else if (lines[i].match("Demo/Trial")){
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("purple").bold() + '</button>' + '<hr>');	
	genericAttribs();
	} else if (lines[i].match("Entertainment")){
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("mediumpurple").bold() + '</button>' + '<hr>');
	genericAttribs();
	} else if (lines[i].match("Homebrew")){
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("orangered").bold() + '</button>' + '<hr>');
	genericAttribs();
	} else if (lines[i].match("PS2toPS4")){
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("seagreen").bold() + '</button>' + '<hr>');
	genericAttribs();
	} else if (lines[i].match("UNRELEASED")){
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Unreleased Title" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("dimgrey").bold() + '</button>' + '<hr>');
	genericAttribs();
	} else if (lines[i].includes("(Firmware)")){
		document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click for FW info" id="fID" class="interactstore" onclick="fName = this.id;firmResolve();">' + dateInfo.fontcolor("black").bold() + '</button>' + '<hr>');
		firmAttribs();
		firmcnt++
	} else {
	document.getElementById('display').insertAdjacentHTML('beforeend', '<button title="Click to show info" id="cID" class="interactstore" onclick="cName = this.id;cusaResolve();">' + dateInfo.fontcolor("black").bold() + '</button>' + '<hr>');	
	genericAttribs();
	}	
};
function genericAttribs(){
	document.getElementById('cID').setAttribute("data", lines[i].slice(lines[i],lines[i].lastIndexOf("(")-1));
	document.getElementById('cID').setAttribute("eVersion", lines[i].slice(lines[i].indexOf("EST"),lines[i].indexOf("EST")+6));
	document.getElementById('cID').setAttribute("oVersion", lines[i].slice(lines[i].indexOf("OFW"),lines[i].indexOf("OFW")+6));
	document.getElementById('cID').setAttribute("releaseDate", lines[i].slice(lines[i].indexOf("[")+1,lines[i].indexOf("]")));
	if (lines[i].match("UNRELEASED")){
	document.getElementById('cID').setAttribute("vrConf", "icons/UNREL.png");
	} else if (lines[i].match("DLC")){
	document.getElementById('cID').setAttribute("vrConf", "icons/DLC.png");
	} else if (lines[i].match("KIOSK")){
	document.getElementById('cID').setAttribute("vrConf", "icons/OMSK.png");
	} else if (lines[i].match("PSCP")){
	document.getElementById('cID').setAttribute("vrConf", "icons/PSC.png");
	} else if (lines[i].match("PSXTOPS4")){
	document.getElementById('cID').setAttribute("vrConf", "icons/PS1.png");
	} else if (lines[i].match("PSPTOPS4")){
	document.getElementById('cID').setAttribute("vrConf", "icons/PSP.png");
	} else if (lines[i].match("PS2TOPS4")){
	document.getElementById('cID').setAttribute("vrConf", "icons/PS2.png");
	} else if (lines[i].match("VR AIM")){
	document.getElementById('cID').setAttribute("vrConf", "icons/AIM.png");
	} else if (lines[i].match("VR")){
	document.getElementById('cID').setAttribute("vrConf", 'icons/PSVR.png');
	} else if (lines[i].match("Requires PSN") || lines[i].match("F2P")){
	document.getElementById('cID').setAttribute("vrConf", 'icons/PSN.png');
	} else if (lines[i].match(/\+/)||lines[i].match(" / ")){
	document.getElementById('cID').setAttribute("vrConf", 'icons/MULTI.png');
	} else if (lines[i].match("Homebrew")){
	document.getElementById('cID').setAttribute("vrConf", 'icons/BREW.png');
	};
	if (lines[i].match("DELISTED")){
	document.getElementById('cID').setAttribute("removed", "true");
	document.getElementById('cID').setAttribute("vrConf", 'icons/BROKEN.png');
	} else {
	document.getElementById('cID').setAttribute("removed", "false");
	};	
	if (lines[i].match("DUMPED V")){
	document.getElementById('cID').setAttribute("dVersion", lines[i].slice(lines[i].indexOf("DUMPED V")+8,lines[i].indexOf("DUMPED V")+13));
	};
	if (lines[i].match("BP ISSUE")){
	document.getElementById('cID').setAttribute("bpIssue", '<span style="color:orange">'+lines[i].slice(lines[i].indexOf("BP ISSUE")+9, lines[i].lastIndexOf("!]"))+'</span>');
	}else if (lines[i].match("505BP")){
	document.getElementById('cID').setAttribute("bpIssue", '<span style="color:lime">BP WORKS 5.05</span>');
	}else if (lines[i].match("672BP")){
	document.getElementById('cID').setAttribute("bpIssue", '<span style="color:#lime">BP WORKS 6.72</span> (ISSUES ON 5.05)');
	}else{
		if (lines[i].match("IMP NOTE")){
		document.getElementById('cID').setAttribute("bpIssue", '<span style="color:gold">'+lines[i].slice(lines[i].indexOf("IMP NOTE")+9, lines[i].lastIndexOf("!]"))+'</span>');
		} else {
		document.getElementById('cID').setAttribute("bpIssue", '<span style="color:red">NO INFO</span>');
		}
	};
	
	if (lines[i].match("BOOTPS5")){
	document.getElementById('cID').setAttribute("ps5bc", 'issue');
	}else if (lines[i].match("NOTPS5")){
	document.getElementById('cID').setAttribute("ps5bc", 'fail');
	}else{
	document.getElementById('cID').setAttribute("ps5bc", 'works');
	};
	
	//THIS MUST GO AT THE BOTTOM OF THIS FUNCTION
	if (lines[i].match("CUSA")){
	document.getElementById('cID').id = lines[i].slice(lines[i].indexOf("CUSA"), lines[i].indexOf("CUSA")+9);
	} else if (lines[i].match("NPE")){
	document.getElementById('cID').id = lines[i].slice(lines[i].indexOf("NPE"), lines[i].indexOf("NPE")+9);
	} else if (lines[i].match("NPUB")){
	document.getElementById('cID').id = lines[i].slice(lines[i].indexOf("NPUB"), lines[i].indexOf("NPUB")+9);
	}else{
	document.getElementById('cID').id = lines[i].slice(lines[i],lines[i].indexOf("(")-1);
	};
}
function firmAttribs(){
	document.getElementById('fID').setAttribute("fdata", lines[i].slice(lines[i],lines[i].indexOf("(")-1));
	document.getElementById('fID').setAttribute("fHash1", lines[i].slice(lines[i].indexOf("SYS ")+4, lines[i].indexOf("SYS ")+36).toUpperCase());
	document.getElementById('fID').setAttribute("fHash2", lines[i].slice(lines[i].indexOf("REC ")+4, lines[i].indexOf("REC ")+36).toUpperCase());
	document.getElementById('fID').setAttribute("rdate", lines[i].slice(lines[i].indexOf(") [")+3, lines[i].indexOf("] [")));
	if (lines[i].match("PATCH")){
	document.getElementById('fID').setAttribute("fHash3", lines[i].slice(lines[i].indexOf("PATCH ")+6, lines[i].indexOf("PATCH ")+38).toUpperCase());
	}else{
	document.getElementById('fID').setAttribute("fHash3", "NO PATCH FIRMWARE EXISTS");
	}
	if (lines[i].match("KEX")){
	document.getElementById('fID').setAttribute("fKEX", 'true');
	} else {
	document.getElementById('fID').setAttribute("fKEX", 'false');
	};
	if (lines[i].match("branches")){
	document.getElementById('fID').setAttribute("kString", "<span style='color:limegreen'>"+lines[i].slice(lines[i].indexOf("[r")+1, lines[i].indexOf("SYS")-3).toUpperCase())+"</span>";
	} else {
	document.getElementById('fID').setAttribute("kString", "<span style='color:red'><br>INFORMATION UNAVAILABLE</span>");
	};
	if (lines[i].match("BETAOFW")){
	document.getElementById('fID').setAttribute("bOFW", "Beta");
	}
	//MUST GO AT THE BOTTOM OF THIS FUNCTION
	document.getElementById('fID').id = lines[i].slice(lines[i],lines[i].indexOf("(")-1);
};
function hash2cb() {
var copyText = document.getElementById("myInput");
	copyText.select();
	copyText.setSelectionRange(0, 99999);
	document.execCommand("copy");
	document.getElementById("titleshout").innerHTML = "MD5:";
	document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span class='textcolor'>"+copyText.value+"<br></span><span style='color:white'>COPIED TO CLIPBOARD!</span></center>";
	document.getElementById('callout').style.display='initial';
	closeTimer(); 
};	
function cusaResolve() {
	document.getElementById("card").style.display='inline';
	let sName = document.getElementById(cName).getAttribute("data");
	let eMin = document.getElementById(cName).getAttribute("eVersion");
	let oMin = document.getElementById(cName).getAttribute("oVersion");
	let vrSet = document.getElementById(cName).getAttribute("vrConf");
	let dMax = document.getElementById(cName).getAttribute("dVersion");
	let backPort = document.getElementById(cName).getAttribute("bpIssue");
	let backCompat = document.getElementById(cName).getAttribute("ps5bc");
	let psnDelist = document.getElementById(cName).getAttribute("removed");
	let showDate = document.getElementById(cName).getAttribute("releaseDate");
	document.getElementById("cardtitle").innerHTML = sName;
	if (psnDelist == 'true'){
	document.getElementById("cardtitle").innerHTML += " (DELISTED)";
	}
	if (cName.match("CUSA")){
	document.getElementById("gamecusa").innerHTML = "&nbsp;" + cName + " <span class='reltext'> ("+showDate+") </span><span id='minReq'></span>";
	} else if (cName.match("NPE")||cName.match("NPUB")){
	document.getElementById("gamecusa").innerHTML = "&nbsp;" + cName + "  <span class='reltext'> ("+showDate+") </span><span id='minReq'></span>";
	}else{
	document.getElementById("gamecusa").innerHTML = "ID N/A" + "  <span class='reltext'> ("+showDate+") </span><span id='minReq'></span>";
	document.getElementById("ratingImage").src = "icons/RATING.png";
	document.getElementById("ratingImage").style.opacity="0.7";
	};
	if (backCompat == 'works') {
	document.getElementById("gamecusa").innerHTML += '<span id="PS5label" title="Works fine on PS5">&nbsp;PS5:&#9989;</span>';
	} else {
	document.getElementById("gamecusa").innerHTML += '<span id="PS5label" title="Not working on PS5">&nbsp;PS5:&#10060;</span>';
	};
	document.getElementById("r1").innerHTML = " FIND REVIEWS (Metacritic)";
	document.getElementById("p1").innerHTML = " SEARCH PKG INFO (Serialstation)";
	document.getElementById("p2").innerHTML = " CHECK PS PAGE (PSN)";
	document.getElementById("p3").innerHTML = " GET LEGIT UPDATES (Orbispatches)";
	document.getElementById("p4").innerHTML = " LOOKUP TROPHIES (Exophase)";	
	document.getElementById('additionalImage').style.display = 'inline';
	document.getElementById("additionalImage").src = vrSet;
	document.getElementById('CUSART').style.display = 'inline';
	document.getElementById("CUSART").src = "icons/generic.png";
	if (eMin.match("EST903") || oMin.match("OFW903")){
	document.getElementById("minReq").innerHTML = "FW: <span id='minfw' style='color:red'>"+eMin.slice(3)+oMin.slice(3)+"</span>";
	} else {
	document.getElementById("minReq").innerHTML = "FW: <span id='minfw' style='color:lime'>"+eMin.slice(3)+oMin.slice(3)+"</span>";
	};
	if (eMin == ""){
	document.getElementById("minfw").innerHTML = ["<span title='Firmware Confirmed'>"+document.getElementById("minfw").innerHTML.slice(0, 1),'.', document.getElementById("minfw").innerHTML.slice(1)].join('') + "</span>";
	} else {
	document.getElementById("minfw").innerHTML = ["<span title='Firmware Estimated'>"+document.getElementById("minfw").innerHTML.slice(0, 1),'.', document.getElementById("minfw").innerHTML.slice(1)].join('') + "*</span>";
	};
	if (sName.match(/\+/)||sName.match(" / ")){
	document.getElementById("gameDump").innerHTML = "<span style='color:orange'>*LOOKUP INDIVIDUAL TITLES*</span>";
	document.getElementById("gamecusa").innerHTML = "&nbspMULTI PACK";
	} else {
		if (dMax == null){
		document.getElementById("gameDump").innerHTML = "DUMP: <span style='color:red'>UNKNOWN</span>";
		} else {
			if (dMax.includes("]")){
			dMax = dMax.slice(0, -1); 
			} 
			document.getElementById("gameDump").innerHTML = "DUMP: <span style='color:lime'>V" + dMax + "</span>";
		}
	}
	document.getElementById("gameBackport").innerHTML = "NOTES: " + backPort;
	if (vrSet == 'icons/DLC.png'){
	document.getElementById("CUSART").src = 'icons/ADDON.png';
	document.getElementById("ratingImage").style.opacity="0";
	document.getElementById("gameBackport").innerHTML = "*USE NEWEST UPDATE*";
		if (cName.includes("CUSA")){
		document.getElementById("gamecusa").innerHTML = "&nbspDLC ITEM: " + cName;
		}else{
		document.getElementById("gamecusa").innerHTML = "&nbspDLC ITEM";
		};
	} else if (vrSet == 'icons/UNREL.png'){
	document.getElementById("CUSART").src = 'icons/UNREL.png';
	document.getElementById("gamecusa").innerHTML = "UNRELEASED";
	document.getElementById("gameBackport").innerHTML = "*NO RELEASE DATE*";
	} else if (vrSet == 'icons/OMSK.png'){
	document.getElementById("CUSART").src = 'icons/OMSK.png';
	document.getElementById("ratingImage").style.opacity="0";
	} else if (vrSet == 'icons/MULTI.png'){
	document.getElementById("CUSART").src = 'icons/MULTI.png';
	document.getElementById("ratingImage").style.opacity="0";
	} else if (vrSet == 'icons/BROKEN.png'){
	document.getElementById("CUSART").src = "icons/BROKEN.png";
	document.getElementById("ratingImage").style.opacity="0.7";
	} else if (vrSet == 'icons/PSC.png'){
	document.getElementById("CUSART").src = "icons/PSC.png";
	document.getElementById("ratingImage").style.opacity="0.7";
	} else if (vrSet == 'icons/PS1.png'){
	document.getElementById("CUSART").src = "icons/PS1.png";
	document.getElementById("ratingImage").style.opacity="0";
	} else if (vrSet == 'icons/PS2.png'){
	document.getElementById("CUSART").src = "icons/PS2.png";
	document.getElementById("ratingImage").style.opacity="0.7";
	} else if (vrSet == 'icons/PSP.png'){
	document.getElementById("CUSART").src = "icons/PSP.png";
	document.getElementById("ratingImage").style.opacity="0.7";
	} else if (vrSet == 'icons/BREW.png'){
	document.getElementById("CUSART").src = "icons/BREW.png";
	document.getElementById("ratingImage").style.opacity="0";
	}else{
	};
	function readJsonfile(file, callback){
		var rawFile = new XMLHttpRequest();
		rawFile.overrideMimeType("application/json");
		rawFile.open("GET", file, true);
		rawFile.onreadystatechange = function(){
			if (rawFile.readyState === 4 && rawFile.status == "200"){
			callback(rawFile.responseText);
			}
		}
		rawFile.send(null);
	}
	if (cName.match("CUSA")){
		titleid = cName+"_00";
		function getJsonURL(CUSA){
			tmdb_key = 'F5DE66D2680E255B2DF79E74F890EBF349262F618BCAE2A9ACCDEE5156CE8DF2CDF2D48C71173CDC2594465B87405D197CF1AED3B7E9671EEB56CA6753C2E6B0';
			sha=new jsSHA("SHA-256","TEXT"),
			sha1=new jsSHA("SHA-1","TEXT");
			sha.update(tmdb_key);
			sha1.setHMACKey(tmdb_key,"HEX");
			sha1.update(CUSA);
			hmac=sha1.getHMAC("HEX").toUpperCase();
			myJsonURL="https://tmdb.np.dl.playstation.net/tmdb2/"+CUSA+"_"+hmac+"/"+CUSA+".json";
			
			readJsonfile(myJsonURL, function(text){
			var data = JSON.parse(text);
			document.getElementById("CUSART").setAttribute("BGI", data.backgroundImage);
			document.getElementById("CUSART").src = data.icons[0].icon;
			
			if (data.psVr >0) {
			document.getElementById("VRlabel").innerHTML = '<span title="VR Compatible">&nbsp;&nbsp;VR:&#9989;</span>';
			} else {
			document.getElementById("VRlabel").innerHTML = '<span title="Not VR compatible">&nbsp;&nbsp;VR:&#10060;</span>';
			}
			
			if (data.parentalLevel >= 0 && data.parentalLevel <= 9) {
				document.getElementById("ratingImage").src = "icons/"+localStorage.getItem("region")+data.parentalLevel+".png";
				document.getElementById("ratingImage").style.opacity="0.7";
				} else {			
				document.getElementById("ratingImage").src = "icons/RATING.png";
				document.getElementById("ratingImage").style.opacity="0.7";
			}
			document.getElementById("cardtitle").onclick = function() { window.open(myJsonURL); };
			});
		}
	getJsonURL(titleid);
	} else if (cName.match("NPE")){
		titleid = cName+"_00";
			function getJsonURL(CUSA){
			myJsonURL="https://store.playstation.com/store/api/chihiro/00_09_000/titlecontainer/gb/en/999/"+cName+"_00/";
			readJsonfile(myJsonURL, function(text){
			var data = JSON.parse(text);
			document.getElementById("CUSART").src = myJsonURL+"image?w=1024&amp;h=1024";
			document.getElementById("ratingImage").src = "icons/RATING.png";
			document.getElementById("ratingImage").style.opacity="0.5";
			document.getElementById("cardtitle").onclick = function() { window.open(myJsonURL); };
			});
		}
	getJsonURL(titleid);
	}
};
function firmResolve(){
	document.getElementById("fcard").style.display='inline';
	let fData = document.getElementById(fName).getAttribute("fdata");
	let sysHash = document.getElementById(fName).getAttribute("fHash1");
	let recHash = document.getElementById(fName).getAttribute("fHash2");
	let patHash = document.getElementById(fName).getAttribute("fHash3");
	let sploited = document.getElementById(fName).getAttribute("fKEX");
	let kStrings = document.getElementById(fName).getAttribute("kString");
	let fwreldate = document.getElementById(fName).getAttribute("rdate");
	let bFirm = document.getElementById(fName).getAttribute("bOFW");
	if (fData==kexFW){document.getElementById("fcardtitle").innerHTML=fData+" OFW (Highest Exploitable Firmware)";
	}else if (fData=="5.05"){document.getElementById("fcardtitle").innerHTML=fData+" OFW (Stable Exploitable Firmware)";
	}else if (bFirm == "Beta"){document.getElementById("fcardtitle").innerHTML=fData+" OFW (Beta Firmware)";
	document.getElementById("FCUSART").src = 'icons/BETA.png';
	}else{
		document.getElementById("fcardtitle").innerHTML = fData + " OFW";
		document.getElementById("FCUSART").src = 'icons/FIRM.png';
	};
	if (sploited == 'true'){document.getElementById("fwversion").innerHTML = "<span style='color:lime'>FULL EXPLOIT CHAIN</span>";}else{document.getElementById("fwversion").innerHTML = "<span style='color:red'>NO PUBLIC EXPLOIT</span>";}
	document.getElementById("rDate").innerHTML = "RELEASED: <span style='color:limegreen'>"+fwreldate+"</span>";
	document.getElementById("kString").innerHTML = "K STRING: "+kStrings;
	document.getElementById("link1").innerHTML = sysHash;
	document.getElementById("fSYS").addEventListener("click", function(){
	document.getElementById("myInput").value = sysHash; hash2cb();
	window.open(('https://archive.org/download/PS4-System-Firmwares/Firmware%20'+fData+'/PS4UPDATE.PUP'), 'FRMCHKSYS');
	});
	document.getElementById("link2").innerHTML = recHash;
	document.getElementById("fREC").addEventListener("click", function(){
	document.getElementById("myInput").value = recHash;	hash2cb();
	window.open(("https://archive.org/download/PS4-Recovery-Firmwares/Firmware%20"+fData+"/PS4UPDATE.PUP"), 'FRMCHKREC');
	});
	document.getElementById("link3").innerHTML = patHash;
	if (fData == "5.53-01"){
	document.getElementById("fPAT").addEventListener("click", function(){
	document.getElementById("myInput").value = patHash; hash2cb();
	window.open(("https://archive.org/download/PS4-Patch-Firmwares/5.53%20to%205.53.1/PS4UPDATE.PUP"), 'FRMCHKPATCH');
	});
	}else{
	}
};
</script>
<button id="top" onclick="window.scrollTo({top: 0, left: 0, behavior: 'smooth'});" class="sticky">BACK TO TOP</button>
<script>
document.getElementById("searchbox").addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode === 13) {
        document.getElementById("searchbutton").click();
    }
});
var p = 0;	
function move() {
  if (p == 0) {
    p = 1;
	document.getElementById("overlay").style.display = "none";
    var elem = document.getElementById("myBar");
    var width = 0.00;
    var id = setInterval(frame, 0.01);
    function frame() {
      if (width >= calculate ){ //
        clearInterval(id);
        p = 0;
      } else {
        width++;
        elem.style.width = width + "%";
		elem.innerHTML = width + "%";
      }
    }
  }
};
window.onbeforeunload = function(e) {
document.getElementById("searchbox").value = "";
document.getElementById("FW").selectedIndex = "0"
document.getElementById("type").selectedIndex = "0"
};
move();
function lightDark(){
	if (localStorage.theme=='light') {
	localStorage.theme='dark';
	document.getElementById('stylesheet').href='config/frmchkd.css';
	} else if (localStorage.theme=='dark') {
	localStorage.theme='light';
	document.getElementById('stylesheet').href='config/frmchk.css';
	}
	//find a better way....
}
function showGreetz() {
document.getElementById("titleshout").innerHTML = "GREETZ:";
document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span style='color:white'>Leeful<br>The Darkprogramer<br>squeak<br>Landcross<br>Whovian9369<br>Opoisso893<br>Darthsternie<br>OfficialAhmed<br>0x199</span></span></center>";
document.getElementById('callout').style.display='initial';
closeTimer();
};
function infoType() {
	if (localStorage.infoLen=='short') {
	localStorage.infoLen='long';
	document.getElementById("infoLength").innerHTML = "INFO: ALL INFORMATION";
	} else if (localStorage.infoLen=='long') {
	localStorage.infoLen='short';
	document.getElementById("infoLength").innerHTML = "INFO: NAME/GENRE ONLY";
	}
location.reload();
};
function alphaDate() {
if (localStorage.DBtype=='ps4date.db') {
localStorage.DBtype='ps4alpha.db';
} else if (localStorage.DBtype=='ps4alpha.db') {
localStorage.DBtype='ps4date.db';
}
location.reload();
};
function dlcHide() {
if (localStorage.DLC=='true') {
document.getElementById("dlcstatus").innerHTML = "DLC: HIDDEN";
document.getElementById("dlc").setAttribute('title', 'Show DLC items');
localStorage.DLC='false';
} else {
if (localStorage.DLC=='false') {
document.getElementById("dlcstatus").innerHTML = "DLC: SHOWN";
document.getElementById("dlc").setAttribute('title', 'Hide DLC items');
localStorage.DLC='true';
}}
location.reload();
};
function closeTimer(){
clearTimeout(myTimer);
myTimer = setTimeout(function(){document.getElementById('callout').style.display='none';}, 10000); 
};
function clearSearch(){
document.getElementById("searchbox").value = "";
document.getElementById("searchbox").focus();
};
function addQS() {
var usergame = prompt("✏️ 𝗠𝗮𝗸𝗲 𝗻𝗲𝘄 𝗾𝘂𝗶𝗰𝗸 𝘁𝗮𝗯?:", document.getElementById("searchbox").value);
	if (usergame === "") {
	alert("⚠️ 𝗡𝗼𝘁𝗵𝗶𝗻𝗴 𝗲𝗻𝘁𝗲𝗿𝗲𝗱:\n\nNo tab was created.");
	} else if (usergame) {
	while (document.getElementById("userbuttons").firstChild) {
    document.getElementById("userbuttons").removeChild(document.getElementById("userbuttons").lastChild);
	}
	userButtons2.push(usergame[0].toUpperCase() + usergame.substring(1).toLowerCase());
	localStorage.setItem("userButtons", JSON.stringify(userButtons2));	
	makeButtons();
	} else {
	}
};
function summary(){
p = 0;
calculate = (cnt / lines.length) * 100;
move();
document.getElementById("count").innerHTML =  "DB entries: <span id='linelength'>"+lines.length+" ("+firmz+" Firmwares).</span> <span id='counted'>"+cnt+"</span> results within: <span id='selected'>"+fclicked+"</span> Category: <span id='selected'>"+cclicked+ "</span> (Letter: <span id='lastclicked'>"+bclicked+"</span>). Keyword: <span id='lastclicked'>"+aWord+"</span>";
	if (localStorage.DLC=='false') {
	document.getElementById("titleshout").innerHTML = "ALERT:";
	document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span style='color:white'>DLC is hidden!<br><br>Toggle DLC to <span class='textcolor' style='font-size:18px;'>SHOWN</span><br>to see DLC results.</span></span></center>";
	document.getElementById('callout').style.display='initial';
	closeTimer();
	}
};
window.onscroll = function() {scroller()};
function scroller() {
  var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
  var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  var scrolled = (winScroll / height) * 100;
  document.getElementById("scrollBar").style.width = scrolled + "%";
};
function nukeEm(){
var s = confirm("⚠️ 𝗖𝗹𝗲𝗮𝗿 𝗰𝘂𝗿𝗿𝗲𝗻𝘁 𝘀𝗲𝗮𝗿𝗰𝗵?\n\nPage will be refreshed.");
if (s == true) {
window.location.reload();
} else {}
};
function base64(){
	var b64 = prompt("✏️ 𝗣𝗮𝘀𝘁𝗲 𝗯𝗮𝘀𝗲𝟲𝟰 𝗲𝗻𝗰𝗿𝘆𝗽𝘁𝗲𝗱 𝗹𝗶𝗻𝗸 𝗵𝗲𝗿𝗲:\r", "");	
	if (b64 === "") {
	alert("⚠️ 𝗡𝗼 𝗯𝗮𝘀𝗲𝟲𝟰 𝗹𝗶𝗻𝗸 𝗲𝗻𝘁𝗲𝗿𝗲𝗱!:\n\nNothing decrypted.");
	} else if (b64) {	
	const result = /^(?=(.{4})*$)[A-Za-z0-9+/]*={0,2}$/.test(b64);
		if (result == true) {
		document.getElementById("myInput").value = window.atob(b64);
		hash2cb();
		//alert("💾 𝗟𝗶𝗻𝗸 𝗰𝗼𝗽𝗶𝗲𝗱 𝘁𝗼 𝗰𝗹𝗶𝗽𝗯𝗼𝗮𝗿𝗱:\n\n" + window.atob(b64));
		window.open(document.getElementById("myInput").value);
		} else {
		alert("⚠️ 𝗡𝗼 𝗯𝗮𝘀𝗲𝟲𝟰 𝗹𝗶𝗻𝗸 𝗲𝗻𝘁𝗲𝗿𝗲𝗱!:\n\nNothing decrypted.");
		}
	}
}
var MD5result = "";
function calculateMD5Hash(file, bufferSize) {
document.getElementById("overlaytext").innerHTML = "Hashing File..<br><br>Please Wait...";
document.getElementById("overlay").style.display = "block";
  var def = Q.defer();
  var fileReader = new FileReader();
  var fileSlicer = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;
  var hashAlgorithm = new SparkMD5();
  var totalParts = Math.ceil(file.size / bufferSize);
  var currentPart = 0;
  var startTime = new Date().getTime();
  fileReader.onload = function(e) {
    currentPart += 1;
    def.notify({
      currentPart: currentPart,
      totalParts: totalParts
    });
    var buffer = e.target.result;
    hashAlgorithm.appendBinary(buffer);
    if (currentPart < totalParts) {
      processNextPart();
      return;
    }
	MD5result = JSON.stringify(hashAlgorithm.end()).slice(1,33);
	document.getElementById("overlay").style.display = "none";
	document.getElementById("searchbox").value = MD5result;
	lookupDelay();	
    def.resolve({
      hashResult: hashAlgorithm.end(),
    });
  };
  fileReader.onerror = function(e) {
    def.reject(e);
  };
  function processNextPart() {
    var start = currentPart * bufferSize;
    var end = Math.min(start + bufferSize, file.size);
    fileReader.readAsBinaryString(fileSlicer.call(file, start, end));
  }
  processNextPart();
  return def.promise;
}
function calculateAll() {
  var input = document.getElementById('file');
  if (!input.files.length) {
    return;
  }
  var file = input.files[0];
  var bufferSize = Math.pow(1024, 2) * 500; 
  calculateMD5Hash(file, bufferSize).then(
  function(result) {
  },
  function(err) {
  },
  function(progress) {
	//console.log(progress.currentPart, 'of', progress.totalParts, 'Total bytes:', progress.currentPart * bufferSize, 'of', progress.totalParts * bufferSize);	
  });
	closeTimer();
	document.getElementById("titleshout").innerHTML = "MD5 HASH:";
	document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span class='textcolor'>Calculating..</span><br><br><span style='color:white'>This could take a while!</span></span></center>";
	document.getElementById('callout').style.display='initial';
}
function showAll(){
document.getElementById("titleshout").innerHTML = "ALL DB ENTRIES:";
document.getElementById("shout").innerHTML = "<center><span style='font-weight:bold'><span class='textcolor'>Scanning all " + (lines.length-firmz) + " entries in <br>the DB using range: <span class='textcolor'>1.00-9.99</span>.<br><br>Please wait...</span></span></center>";
document.getElementById('callout').style.display='initial';
closeTimer();
};
function snagImage() {
//alert(document.getElementById('cardtitle').innerHTML);

/*
if (document.getElementById(cName).getAttribute("vrConf").match("DLC")){
} else {
*/

  var x = document.createElement("DIALOG");
  var p = document.createElement("P");
  var t = document.createTextNode("𝗗𝗼𝘄𝗻𝗹𝗼𝗮𝗱 𝗶𝗺𝗮𝗴𝗲𝘀?");
  var b1 = document.createElement("BUTTON");
  var b2 = document.createElement("BUTTON");
  var b3 = document.createElement("BUTTON");
//x.style.border = "none";
  x.setAttribute("open", "open");
  x.addEventListener("mouseleave", function(){x.close()});
  b1.textContent = 'ICON0';
  b1.addEventListener("click", function(){
  window.open(document.getElementById("CUSART").src, "ICON0.PNG", "width=512,height=512")
  });
  b2.textContent = 'PIC0';
  b2.addEventListener("click", function(){
  if (document.getElementById("CUSART").getAttribute("BGI") == "undefined"){
  alert("𝗡𝗼 𝗣𝗜𝗖𝟬 𝗳𝗼𝘂𝗻𝗱!");
  } else {
  window.open(document.getElementById("CUSART").getAttribute("BGI"), "PIC0.PNG", "width=1920,height=1080");
  document.getElementById("CUSART").setAttribute("BGI", "undefined");
  }});
  b3.textContent = 'EXIT';
  b3.addEventListener("click", function(){x.close()});
  x.appendChild(p);
  p.appendChild(t);
  x.appendChild(b1);
  x.appendChild(b2);
  x.appendChild(b3);
  document.getElementById("card").appendChild(x);
};
function tmdbcheck() {
	let CUSA = prompt("Enter Game Title ID [CUSAXXXXX]:", "CUSA");
	if (CUSA.length!=9 || CUSA.slice(0,4)!="CUSA" || isNaN(CUSA.slice(4,10))){
	alert("INVALID CUSA NUMBER ENTERED!");
	} else {
		tmdb_key = 'F5DE66D2680E255B2DF79E74F890EBF349262F618BCAE2A9ACCDEE5156CE8DF2CDF2D48C71173CDC2594465B87405D197CF1AED3B7E9671EEB56CA6753C2E6B0';
		tmdb_id = CUSA+"_00";
		sha=new jsSHA("SHA-256","TEXT"),
		sha1=new jsSHA("SHA-1","TEXT");
		sha.update(tmdb_key);
		sha1.setHMACKey(tmdb_key,"HEX");
		sha1.update(tmdb_id);
		hmac=sha1.getHMAC("HEX").toUpperCase();
		tmdbJsonURL="https://tmdb.np.dl.playstation.net/tmdb2/"+tmdb_id+"_"+hmac+"/"+tmdb_id+".json";
		window.open(tmdbJsonURL);
		}
}
</script>
<input type="file" id="file" onchange="calculateAll();" accept=".pup" hidden></input>
<abbr class="interact" title="Support this project through Ko-Fi">
<a target="_blank" href="https://ko-fi.com/defaultdnb">
<div id="KOFI" class="tooltip" onmouseenter="window.document.kofi.src='icons/kofi.png';" onmouseleave="window.document.kofi.src='icons/avatar.jpg';"><div class="chip"><img src="icons/avatar.jpg" name="kofi" alt="Creator" width="96" height="96">SUPPORT FRMCHK TODAY!
</div></div></a></abbr>
<div class="textcolor" id="end">VER: 0.8.8-8 (BETΔ)</div>
</body>
</html>